{% load i18n reference_extras %}

<table id="references" class="center spacey">
<tr>
    <th>{% trans 'Group' %}</th>
    <th>{% trans 'Project' %}</th>
    {% for tag in tags %}
        <th>{{ tag.name }}</th>
    {% endfor %}
</tr>
{% for group, grouped_references in references.iteritems %}
    {% for reference in grouped_references %}
        <tr class="{% cycle '' 'alt' %}">
          {% if forloop.first %}
              <td rowspan="{{ grouped_references|length }}">{{ group.name }}</td>
          {% endif %}
          <td><a href="#{{ group.public_name }}-{{ reference.public_name }}">{{ reference.short_name }}</a></td>
          {% for tag in tags %}
            <td><div class="void-div glyphicon glyphicon-{% knowledge_level tag reference %} center"></div></td>
          {% endfor %}
        </tr>
    {% endfor %}
{% endfor %}
{% for level in knowledge_level %}
    <tr class="legendrow"><td colspan="10"><span class="glyphicon glyphicon-{{ level.icon }}"></span><div class="legend">{{ level.get_weight_display }}</div></td></tr>
{% endfor %}
</table>